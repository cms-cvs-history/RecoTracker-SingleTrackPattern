process PROD = {

	source = PoolSource { 
          untracked vstring fileNames = {'file:cosmic_digi.root'}
          untracked int32 maxEvents = -1
          untracked uint32 debugVerbosity = 10
          untracked bool   debugFlag     = true
	}
  #Magnetic Field
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
  ##


      service	 = MessageLogger {  untracked vstring destinations   = { "debugmessages.txt" }
          untracked PSet debugmessages.txt = { untracked string threshold = "INFO"}
          untracked vstring debugmodules = {"*"}	}


    include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"

        es_module = TrackerGeometricDetESModule {}
	es_module = TrackerRecoGeometryESProducer {}
        es_module = TrackerDigiGeometryESModule {}
	
       module cosmicseedfinder= CosmicSeedGenerator{
	double ptMin=0.9
	double originRadius=150
	double originHalfLength=90
	double originZPosition=0
	}

        module cosmictrackfinder= CosmicTrackFinder{
	string HitProducer        = "LocalMeasurementConverter"	
           int32 MinHits=5
           double Chi2Cut=30.
        }


      	module out = PoolOutputModule {
               untracked string fileName = 'cosmictracks.root'
        }
	path p = {cosmicseedfinder,cosmictrackfinder}
        	endpath outpath = { out }
}


