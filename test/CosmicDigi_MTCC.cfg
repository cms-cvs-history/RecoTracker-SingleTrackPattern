process PROD  = {
 include "RecoTracker/SingleTrackPattern/test/messages.cfg"
 include "RecoTracker/SingleTrackPattern/test/services.cfi"


 include "RecoTracker/SingleTrackPattern/test/cosmicGen.cfi"
   # CMS Det.Simulation module (OscarProducer)
   #
   include "RecoTracker/SingleTrackPattern/test/nonbeamOscarProducer.cfi"
   include "Geometry/CMSCommonData/data/cmsSimIdealGeometryXML.cfi"
    es_module = TrackerGeometricDetESModule {}

    #Magnetic Field
    #
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  
   # Step 3 : Digitization of the Tracker

   # required for Pixel and SiStrip Digitizers
   #
   es_module = TrackerDigiGeometryESModule {}



   # SiStrip's digitization
   #
   include "SimTracker/SiStripDigitizer/data/SiStripDigi.cfi"


   include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"
   include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"

   # Step 4 : Output module
   #
   module GEN-SIM-DIGI = PoolOutputModule
   {
      untracked string fileName = "cosmic_MTCC.root"
   }
   

    path p1 = { SimG4Object,
                stripdigi,
                ThreeThresholdClusterizer,
                LocalMeasurementConverter}

   endpath outpath = { GEN-SIM-DIGI }

}
